cols_align(columns = vars(MO), align = "left") %>%
fun_param("500mg q6h inf. 30min") %>%
fun_param("1g q12h inf. 30min") %>%
fun_param("1g q12h inf. 4h") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q6h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("4g q12h inf. 30min") %>%
fun_param("4g q12h inf. 4h") %>%
fun_param("4g q24h inf. 24h") %>%
fun_param("6g q24h inf. 24h") %>%
fun_param("8g q24h inf. 24h") %>%
# Tabla Ind.3 ------
FIM_RESPTA_2 <- RESPTA_2c %>%
select(c("MO", "1g q6h inf. 30min", "2g q12h inf. 30min", "2g q12h inf. 4h",
"4g q24h inf. 24h", "2g q8h inf. 30min", "2g q8h inf. 2h", "2g q8h inf. 4h",
"6g q24h inf. 24h", "2g q6h inf. 30min", "4g q12h inf. 30min",
"4g q12h inf. 4h", "8g q24h inf. 24h")) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 50% <i>f</i>T <sub>>4 x MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 4g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 8g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q6h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("4g q12h inf. 30min") %>%
fun_param("4g q12h inf. 4h") %>%
fun_param("4g q24h inf. 24h") %>%
fun_param("6g q24h inf. 24h") %>%
fun_param("8g q24h inf. 24h") %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left")
RESPTA_2c %>%
select(c("MO", "1g q6h inf. 30min", "2g q12h inf. 30min", "2g q12h inf. 4h",
"4g q24h inf. 24h", "2g q8h inf. 30min", "2g q8h inf. 2h", "2g q8h inf. 4h",
"6g q24h inf. 24h", "2g q6h inf. 30min", "4g q12h inf. 30min",
"4g q12h inf. 4h", "8g q24h inf. 24h")) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 50% <i>f</i>T <sub>>4 x MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 4g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 8g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
)
RESPTA_2c %>%
select(c("MO", "1g q6h inf. 30min", "2g q12h inf. 30min", "2g q12h inf. 4h",
"4g q24h inf. 24h", "2g q8h inf. 30min", "2g q8h inf. 2h", "2g q8h inf. 4h",
"6g q24h inf. 24h", "2g q6h inf. 30min", "4g q12h inf. 30min",
"4g q12h inf. 4h", "8g q24h inf. 24h")) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 50% <i>f</i>T <sub>>4 x MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 4g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 8g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
)
FIM_RESPTA_1 <- RESPTA_1c %>%
select(c("MO", dosisDefinidas)) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 100% <i>f</i>T <sub>>MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 2g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 4g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left") %>%
fun_param("500mg q6h inf. 30min") %>%
fun_param("1g q12h inf. 30min") %>%
fun_param("1g q12h inf. 4h") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q6h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("4g q12h inf. 30min") %>%
fun_param("4g q12h inf. 4h") %>%
fun_param("4g q24h inf. 24h") %>%
fun_param("6g q24h inf. 24h") %>%
fun_param("8g q24h inf. 24h") %>%
# Tabla Ind.3 ------
FIM_RESPTA_2 <- RESPTA_2c %>%
select(c("MO", "1g q6h inf. 30min", "2g q12h inf. 30min", "2g q12h inf. 4h",
"4g q24h inf. 24h", "2g q8h inf. 30min", "2g q8h inf. 2h", "2g q8h inf. 4h",
"6g q24h inf. 24h", "2g q6h inf. 30min", "4g q12h inf. 30min",
"4g q12h inf. 4h", "8g q24h inf. 24h")) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 50% <i>f</i>T <sub>>4 x MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 4g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 8g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q6h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("4g q12h inf. 30min") %>%
fun_param("4g q12h inf. 4h") %>%
fun_param("4g q24h inf. 24h") %>%
fun_param("6g q24h inf. 24h") %>%
fun_param("8g q24h inf. 24h") %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left")
RESPTA_2c %>%
select(c("MO", "1g q6h inf. 30min", "2g q12h inf. 30min", "2g q12h inf. 4h",
"4g q24h inf. 24h", "2g q8h inf. 30min", "2g q8h inf. 2h", "2g q8h inf. 4h",
"6g q24h inf. 24h", "2g q6h inf. 30min", "4g q12h inf. 30min",
"4g q12h inf. 4h", "8g q24h inf. 24h")) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 50% <i>f</i>T <sub>>4 x MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 4g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 8g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
)
RESPTA_2c %>%
select(c("MO", "1g q6h inf. 30min", "2g q12h inf. 30min", "2g q12h inf. 4h",
"4g q24h inf. 24h", "2g q8h inf. 30min", "2g q8h inf. 2h", "2g q8h inf. 4h",
"6g q24h inf. 24h", "2g q6h inf. 30min", "4g q12h inf. 30min",
"4g q12h inf. 4h", "8g q24h inf. 24h")) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 50% <i>f</i>T <sub>>4 x MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 4g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 8g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
)
RESPTA_1c %>%
select(c("MO", dosisDefinidas)) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 100% <i>f</i>T <sub>>MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 2g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 4g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left")
FIM_RESPTA_1 <- RESPTA_1c %>%
select(c("MO", dosisDefinidas)) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 100% <i>f</i>T <sub>>MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 2g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 4g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left") %>%
fun_param("500mg q6h inf. 30min") %>%
fun_param("1g q12h inf. 30min") %>%
fun_param("1g q12h inf. 4h") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q6h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("4g q12h inf. 30min")
FIM_RESPTA_1 <- RESPTA_1c %>%
select(c("MO", dosisDefinidas)) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 100% <i>f</i>T <sub>>MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 2g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 4g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left") %>%
fun_param("500mg q6h inf. 30min") %>%
fun_param("1g q12h inf. 30min") %>%
fun_param("2g q24h inf. 24h") %>%
fun_param("1g q12h inf. 4h")
FIM_RESPTA_1
FIM_RESPTA_1 <- RESPTA_1c %>%
select(c("MO", dosisDefinidas)) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 100% <i>f</i>T <sub>>MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 2g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 4g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left") %>%
fun_param("500mg q6h inf. 30min") %>%
fun_param("1g q12h inf. 30min") %>%
fun_param("2g q24h inf. 24h") %>%
fun_param("1g q12h inf. 4h") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("4g q24h inf. 24h") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("6g q24h inf. 24h")
FIM_RESPTA_1
FIM_RESPTA_2 <- RESPTA_2c %>%
select(c("MO", dosisDefinidas)) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 50% <i>f</i>T <sub>>4 x MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 4g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 8g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
fun_param("500mg q6h inf. 30min") %>%
fun_param("1g q12h inf. 30min") %>%
fun_param("2g q24h inf. 24h") %>%
fun_param("1g q12h inf. 4h") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("4g q24h inf. 24h") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("6g q24h inf. 24h") %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left")
FIM_RESPTA_2
FIM_RESPTA_60 <- RESPTA_60c %>%
select(c("MO", dosisDefinidas)) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 60% <i>f</i>T <sub>>MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 4g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 8g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
fun_param("500mg q6h inf. 30min") %>%
fun_param("1g q12h inf. 30min") %>%
fun_param("2g q24h inf. 24h") %>%
fun_param("1g q12h inf. 4h") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("4g q24h inf. 24h") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("6g q24h inf. 24h") %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left")
# Almacenamiento de tablas
FIM_RESPTA_1 %>%
gtsave(filename = '463_CFR_Indicador_100fTmasMIC.html', path = file.path(getwd(), 'figures'))
FIM_RESPTA_2 %>%
gtsave(filename = '464_CFR_Indicador_50fTmas4MIC.html', path = file.path(getwd(), 'figures'))
FIM_RESPTA_60 %>%
gtsave(filename = '468_CFR_Indicador_60fTmasMIC.html', path = file.path(getwd(), 'figures'))
#-------------------------------------------------------------------------------#
# Sección de tablas -----------------------------------------------------
#-------------------------------------------------------------------------------#
#' Función de formato condicional
#' Esta función sólo cuenta con dos reglas: (1) CFR > 0.85, (2) CFR > 0.70 y CFR < 0.90
#'
#' @param data: datos
#' @param param: columna seleccionada para formato condicionado
#' @param crit1: criterio 1
#' @param crit2: criterio 2
#'
#' @return
#' @export
#'
#' @examples
fun_param <- function(data, param, crit1 = 0.70, crit2 = 0.85) {
param_quo <- rlang::ensym(param)
z = data %>%
tab_style(style = list(cell_fill(color = alpha('#00ff00',0.5))),
locations = cells_body(columns = vars(!!param_quo),
rows = (!!param_quo >= crit2))
) %>%
tab_style(style = list(cell_fill(color = alpha('#ffff66',0.5))),
locations = cells_body(columns = vars(!!param_quo),
rows = (!!param_quo >= crit1 & !!param_quo < crit2))
) %>%
tab_style(style = list(cell_fill(color = alpha('#e6b8b7',0.5))),
locations = cells_body(columns = vars(!!param_quo),
rows = (!!param_quo < crit1))
)
return(z)
}
# Tabla Ind.1 ------
dosisDefinidas <- colnames(RESPTA_1c)
dosisDefinidas <- dosisDefinidas[!str_detect(dosisDefinidas, 'MO')]
FIM_RESPTA_1 <- RESPTA_1c %>%
select(c("MO", dosisDefinidas)) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 100% <i>f</i>T <sub>>MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 2g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 4g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left") %>%
fun_param("500mg q6h inf. 30min") %>%
fun_param("1g q12h inf. 30min") %>%
fun_param("2g q24h inf. 24h") %>%
fun_param("1g q12h inf. 4h") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("4g q24h inf. 24h") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("6g q24h inf. 24h")
FIM_RESPTA_1
# Tabla Ind.3 ------
FIM_RESPTA_2 <- RESPTA_2c %>%
select(c("MO", dosisDefinidas)) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 50% <i>f</i>T <sub>>4 x MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 4g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 8g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
fun_param("500mg q6h inf. 30min") %>%
fun_param("1g q12h inf. 30min") %>%
fun_param("2g q24h inf. 24h") %>%
fun_param("1g q12h inf. 4h") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("4g q24h inf. 24h") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("6g q24h inf. 24h") %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left")
# Tabla Ind.2 ---------------------------------------------------------------------------------
FIM_RESPTA_60 <- RESPTA_60c %>%
select(c("MO", dosisDefinidas)) %>%
gt::gt() %>%
tab_header(title = md('**Fracción Acumulada de Respuesta (CFR)**'),
subtitle = md('**Objetivo**: 60% <i>f</i>T <sub>>MIC</sub>; **Creatinina Sérica**: 0.54 mg/dL')) %>%
tab_spanner(label = md('**Regímenes (mg/L)**'), 2:13) %>%
tab_spanner(label = md('**DD = 4g**'), 2:(2+3)) %>%
tab_spanner(label = md('**DD = 6g**'), 6:(6+3)) %>%
tab_spanner(label = md('**DD = 8g**'), 10:(10+3)) %>%
fmt_number(2:13, decimals = 3) %>%
cols_label(MO = md('**Microorganismo**')) %>%
tab_options(
column_labels.font.size = "smaller",
table.font.size = "smaller",
data_row.padding = px(3)
) %>%
fun_param("500mg q6h inf. 30min") %>%
fun_param("1g q12h inf. 30min") %>%
fun_param("2g q24h inf. 24h") %>%
fun_param("1g q12h inf. 4h") %>%
fun_param("2g q12h inf. 30min") %>%
fun_param("1g q6h inf. 30min") %>%
fun_param("4g q24h inf. 24h") %>%
fun_param("2g q12h inf. 4h") %>%
fun_param("2g q8h inf. 30min") %>%
fun_param("2g q8h inf. 2h") %>%
fun_param("2g q8h inf. 4h") %>%
fun_param("6g q24h inf. 24h") %>%
text_transform(locations = cells_body(columns = vars(MO)),
fn = function(x) {gt::md(paste0("<em>",x,"</em>"))} ) %>%
cols_align(columns = vars(MO), align = "left")
# Almacenamiento de tablas
FIM_RESPTA_1 %>%
gtsave(filename = '463_CFR_Indicador_100fTmasMIC.html', path = file.path(getwd(), 'figures'))
FIM_RESPTA_2 %>%
gtsave(filename = '464_CFR_Indicador_50fTmas4MIC.html', path = file.path(getwd(), 'figures'))
FIM_RESPTA_60 %>%
gtsave(filename = '468_CFR_Indicador_60fTmasMIC.html', path = file.path(getwd(), 'figures'))
